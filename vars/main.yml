---

dovecot_dependencies:
  - iproute2

dovecot_packages: []

# ---------------------------------------------------------------------------------------

dovecot_defaults_config:
  listen:
    - "*"
    - "::"
  base_dir: /run/dovecot/
  instance_name: "{{ ansible_fqdn }}"
  login_greeting: "Dovecot ready."
  # login_trusted_networks: []
  # login_access_sockets: []
  # auth_proxy_self: ""
  verbose_proctitle: true
  shutdown_clients: false
  # doveadm_worker_count: 0
  # doveadm_socket_path: doveadm-server
  # import_environment: []
  # - TZ
  ##
  ##
  # dict {
  #   #quota = mysql:/etc/dovecot/dovecot-dict-sql.conf.ext
  #   #expire = sqlite:/etc/dovecot/dovecot-dict-sql.conf.ext
  # }
  dictionaries: {}
  #   quota: mysql:/etc/dovecot/dovecot-dict-sql.conf.ex
  #   expire: sqlite:/etc/dovecot/dovecot-dict-sql.conf.ext

dovecot_defaults_auth:
  disable_plaintext_auth: false
  auth_cache_size: 0
  auth_cache_ttl: "1 hour"
  auth_cache_negative_ttl: "1 hour"
  auth_realms: []
  auth_default_realm: ""
  auth_username_chars: "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ01234567890"
  auth_username_translation: ""
  auth_username_format: "%Lu"
  auth_master_user_separator: ""
  auth_anonymous_username: anonymous
  auth_worker_max_count: 80
  auth_gssapi_hostname: ""
  auth_krb5_keytab: ""
  auth_use_winbind: false
  auth_winbind_helper_path: ""  # /usr/bin/ntlm_auth
  auth_failure_delay: 2 secs
  auth_ssl_require_client_cert: false
  auth_ssl_username_from_cert: false
  auth_mechanisms:
    - plain
    - login
    - cram-md5
  includes:
    - "# auth-deny.conf.ext"
    - "# auth-master.conf.ext"
    - auth-system.conf.ext
    - "# auth-sql.conf.ext"
    - "# auth-ldap.conf.ext"
    - "# auth-passwdfile.conf.ext"
    - "# auth-checkpassword.conf.ext"
    - "# auth-vpopmail.conf.ext"
    - "# auth-static.conf.ext"

dovecot_defaults_director:
  director_servers: ""
  director_mail_servers: ""
  director_user_expire: "15 min"
  director_username_hash: "%Lu"
  director_services:
    - director:
        - listener: unix
          type: login/director
        - listener: fifo
          type: login/proxy-notify
        - listener: unix
          type: director-userdb
    - logins:
        - imap: {}
        - pop3: {}
        - submission: {}
    - protocols:
        - lmtp: {}

dovecot_defaults_logging:
  auth_debug: true
  auth_debug_passwords: false
  auth_verbose: false
  auth_verbose_passwords: false
  debug_log_path: /var/log/dovecot/debug.log
  deliver_log_format: "msgid=%m [from=%f subject=%s]: %$"
  info_log_path: /var/log/dovecot/dovecot.log
  log_core_filter: ""
  log_debug: []
  log_path: ""
  log_timestamp: "%Y-%m-%d %H:%M:%S | "
  login_log_format: "%$: %s"
  login_log_format_elements:
    - "user=[%u]"
    - "method=%m"
    - "rip=%r"
    - "lip=%l"
    - "mpid=%e"
    - "%c"
  mail_debug: false
  mail_log_prefix: "%Us(%u): "
  syslog_facility: ""  # mail
  verbose_ssl: false
  plugins:
    mail_log_events:
      - delete
      - undelete
      - expunge
      - copy
      - mailbox_delete
      - mailbox_rename
      - flag_change
      - append
    mail_log_fields:
      - uid
      - box
      - msgid
      - size
      - from
      - subject
      - vsize
      - flags

dovecot_defaults_mail:
  namespaces:
    - name: inbox
      inbox: true

  valid_chroot_dirs: []

  mail_protocols:
    - name: "!indexer-worker"

  mail_attachment_fs: "sis posix"

dovecot_defaults_master:
  default_process_limit: 100
  default_client_limit: 1000
  default_vsz_limit: 256M
  default_login_user: dovenull
  default_internal_user: dovecot

  services:
    - log:
        chroot: ""
        client_limit: 0
        drop_priv_before_exec: false
        executable: log
        extra_groups:
        user:
        group:
        idle_kill: "4294967295 secs"
        privileged_group:
        process_limit: 1
        process_min_avail: 0
        protocol:
        service_count: 0
        type: log
        vsz_limit:
        listeners:
          - log-errors:
              type: unix
              group:
              user:
              mode: "0600"

    - imap-login:
        service_count: 1
        process_min_avail: 0
        listeners:
          - imap:
              type: inet
              port: 143
          - imaps:
              type: inet
              port: 993
              ssl: true

    - pop3-login:
        listeners:
          - pop3:
              port: 110
          - pop3s:
              port: 995
              ssl: true

    - submission-login:
        listeners:
          - submission:
              port: 587

    - lmtp:
        listeners:
          - lmtp:
              type: unix
              mode: "0666"

    - imap: {}
    - pop3: {}
    - submission: {}

    - auth-worker:
        user: root

    - dict:
        listeners:
          - dict:
              type: unix
              mode: "0600"

dovecot_defaults_ssl:
  enabled: false
  cert: ""
  key: ""
  key_password: ""
  ca: ""
  require_crl: false
  client_ca_dir: ""
  client_ca_file: ""
  verify_client_cert: false
  cert_username_field: ""  # commonName
  dh: ""
  min_protocol: TLSv1.2
  cipher_list:
    - ALL
    - "!DH"
    - "!kRSA"
    - "!SRP"
    - "!kDHd"
    - "!DSS"
    - "!aNULL"
    - "!eNULL"
    - "!EXPORT"
    - "!DES"
    - "!3DES"
    - "!MD5"
    - "!PSK"
    - "!RC4"
    - "!ADH"
    - "!LOW@STRENGTH"
  curve_list:
    - P-521
    - P-384
    - P-256
  ssl_prefer_server_ciphers: false
  ## for valid values run "openssl engine"
  ssl_crypto_device: ""
  ssl_options: ""

dovecot_defaults_tcpwrapper:
  login_access_sockets: tcpwrap
  services:
    - login/tcpwrap:
        listeners:
          - login/tcpwrap:
              type: "unix"
              mode: "0666"
              user: ""
              group: ""

dovecot_defaults_lda:
  # postmaster_address: ""
  # hostname: ""
  # quota_full_tempfail: false
  # sendmail_path: /usr/sbin/sendmail
  # submission_host: ""
  # rejection_subject: Rejected: %s
  # rejection_reason: "Your message to <%t> was automatically rejected:%n%r"
  # recipient_delimiter: "+"
  # original_recipient_header: ""
  # mailbox_autocreate: false
  # mailbox_autosubscribe: false
  protocols:
    - lda:
        mail_plugins:
          - "$mail_plugins"

dovecot_defaults_mailboxes:
  namespaces:
    - inbox:
        disabled: false
        hidden: false
        ignore_on_failure: false
        inbox: true
        list: true
        location: ""
        order: 0
        prefix: ""
        separator: ""
        subscriptions: true
        type: private
        Archive:
          special_use: \Archive
        Drafts:
          # false     - Never created automatically.
          # create    - Automatically created, but no automatic subscription.
          # subscribe - Automatically created and subscribed.
          auto: subscribe
          autoexpunge: 0
          autoexpunge_max_mails: 0
          comment: ""
          driver: ""
          special_use: \Drafts
        Junk:
          special_use: \Junk
        Sent:
          special_use: \Sent
        "Sent Messages":
          special_use: \Sent
        Trash:
          special_use: \Trash
        virtual/All:
          comment: "All my messages"
          special_use: \All
        virtual/Flagged:
          comment: "All my flagged messages"
          special_use: \Flagged

dovecot_defaults_imap:
  # hibernate_timeout: 0
  # max_line_length: 64k
  ##
  ##   %i - total number of bytes read from client
  ##   %o - total number of bytes sent to client
  ##   %{fetch_hdr_count} - Number of mails with mail header data sent to client
  ##   %{fetch_hdr_bytes} - Number of bytes with mail header data sent to client
  ##   %{fetch_body_count} - Number of mails with mail body data sent to client
  ##   %{fetch_body_bytes} - Number of bytes with mail body data sent to client
  ##   %{deleted} - Number of mails where client added \Deleted flag
  ##   %{expunged} - Number of mails that client expunged, which does not
  ##                 include automatically expunged mails
  ##   %{autoexpunged} - Number of mails that were automatically expunged after
  ##                     client disconnected
  ##   %{trashed} - Number of mails that client copied/moved to the
  ##                special_use=\Trash mailbox.
  ##   %{appended} - Number of mails saved during the session
  logout_format:
    - "in=%i"
    - "out=%o"
    - "deleted=%{deleted}"
    - "expunged=%{expunged}"
    - "trashed=%{trashed}"
    - "hdr_count=%{fetch_hdr_count}"
    - "hdr_bytes=%{fetch_hdr_bytes}"
    - "body_count=%{fetch_body_count}"
    - "body_bytes=%{fetch_body_bytes}"
  # capability: ""
  # idle_notify_interval: 2 mins
  # id_send: ""
  # id_log: ""
  ##
  ##    delay-newmail:
  ##      Send EXISTS/RECENT new mail notifications only when replying to NOOP
  ##      and CHECK commands. Some clients ignore them otherwise, for example OSX
  ##      Mail (<v2.1). Outlook Express breaks more badly though, without this it
  ##      may show user "Message no longer in server" errors. Note that OE6 still
  ##      breaks even with this workaround if synchronization is set to
  ##      "Headers Only".
  ##    tb-extra-mailbox-sep:
  ##      Thunderbird gets somehow confused with LAYOUT=fs (mbox and dbox) and
  ##      adds extra '/' suffixes to mailbox names. This option causes Dovecot to
  ##      ignore the extra '/' instead of treating it as invalid mailbox name.
  ##    tb-lsub-flags:
  ##      Show \Noselect flags for LSUB replies with LAYOUT=fs (e.g. mbox).
  ##      This makes Thunderbird realize they aren't selectable and show them
  ##      greyed out, instead of only later giving "not selectable" popup error.
  client_workarounds:
    - delay-newmail
  #   - tb-extra-mailbox-sep
  #   - tb-lsub-flags
  # urlauth_host: ""
  # literal_minus: false
  ##
  ##    disconnect-immediately:
  ##      The FETCH is aborted immediately and the IMAP client is disconnected.
  ##    disconnect-after:
  ##      The FETCH runs for all the requested mails returning as much data as
  ##      possible. The client is finally disconnected without a tagged reply.
  ##    no-after:
  ##      Same as disconnect-after, but tagged NO reply is sent instead of
  ##      disconnecting the client. If the client attempts to FETCH the same failed
  ##      mail more than once, the client is disconnected. This is to avoid clients
  ##      from going into infinite loops trying to FETCH a broken mail.
  fetch_failure: disconnect-immediately
  protocols:
    - imap:
        mail_plugins: $mail_plugins
        mail_max_userip_connections: 10

dovecot_defaults_lmtp:
  # proxy: false
  # save_to_detail_mailbox: false
  # rcpt_check_quota: false
  ##
  ##  The default is "final", which is the same as the one given to
  ##  RCPT TO command.
  ##  "original" uses the address given in RCPT TO's ORCPT
  ##  parameter,
  ##  "none" uses nothing. Note that "none" is currently always used
  ##  when a mail has multiple recipients.
  # hdr_delivery_address: final
  protocols:
    - lmtp:
        mail_plugins: $mail_plugins

dovecot_defaults_managesieve:
  enabled_protocols:
    - "$protocols"
    - sieve
  services:
    - managesieve-login:
        # chroot: login
        # client_limit: 0
        # drop_priv_before_exec: no
        # executable: managesieve-login
        # extra_groups: ""
        # group: ""
        # idle_kill: 0
        listeners:
          - sieve:
              type: inet
              port: 4190
              address: ""
              haproxy: false
              reuse_port: false
              ssl: false
          - sieve_deprecated:
              type: inet
              port: 2000
    - managesieve:
        process_limit: 1024

  protocols:
    - sieve: {}
    #   managesieve_max_line_length: 65536
    #   mail_max_userip_connections: 10
    #   mail_plugins: []
    ##
    ## MANAGESIEVE logout format string:
    ##  %i - total number of bytes read from client
    ##  %o - total number of bytes sent to client
    ##  %{put_bytes} - Number of bytes saved using PUTSCRIPT command
    ##  %{put_count} - Number of scripts saved using PUTSCRIPT command
    ##  %{get_bytes} - Number of bytes read using GETCRIPT command
    ##  %{get_count} - Number of scripts read using GETSCRIPT command
    ##  %{get_bytes} - Number of bytes processed using CHECKSCRIPT command
    ##  %{get_count} - Number of scripts checked using CHECKSCRIPT command
    ##  %{deleted_count} - Number of scripts deleted using DELETESCRIPT command
    ##  %{renamed_count} - Number of scripts renamed using RENAMESCRIPT command
    #   managesieve_logout_format:
    #     - "bytes: %i/%o"
    #     - "deleted: %{deleted_count}"
    #     - "renamed: %{renamed_count}"
    #   managesieve_implementation_string: Dovecot Pigeonhole
    #   managesieve_sieve_capability: ""
    #   managesieve_notify_capability: ""
    #   managesieve_max_compile_errors: 5

dovecot_defaults_pop3:
  # no_flag_updates: false
  # enable_last: false
  # reuse_xuidl: false
  # lock_session: false
  # fast_size_lookups: false
  #
  #
  #  %v - Mailbox's IMAP UIDVALIDITY
  #  %u - Mail's IMAP UID
  #  %m - MD5 sum of the mailbox headers in hex (mbox only)
  #  %f - filename (maildir only)
  #  %g - Mail's GUID
  #  UW's ipop3d         : %08Xv%08Xu
  #  Courier             : %f or %v-%u (both might be used simultaneously)
  #  Cyrus (<= 2.1.3)    : %u
  #  Cyrus (>= 2.1.4)    : %v.%u
  #  Dovecot v0.99.x     : %v.%u
  #  tpop3d              : %Mf
  # uidl_format: %08Xu%08Xv
  # save_uidl: false
  #
  #   allow: Show duplicates to clients.
  #   rename: Append a temporary -2, -3, etc. counter after the UIDL.
  # uidl_duplicates: allow
  # deleted_flag: ""
  #
  #  %i - total number of bytes read from client
  #  %o - total number of bytes sent to client
  #  %t - number of TOP commands
  #  %p - number of bytes sent to client as a result of TOP command
  #  %r - number of RETR commands
  #  %b - number of bytes sent to client as a result of RETR command
  #  %d - number of deleted messages
  #  %{deleted_bytes} - number of bytes in deleted messages
  #  %m - number of messages (before deletion)
  #  %s - mailbox size in bytes (before deletion)
  #  %u - old/new UIDL hash. may help finding out if UIDLs changed unexpectedly
  # logout_format: "top=%t/%p, retr=%r/%b, del=%d/%m, size=%s"
  #
  #   outlook-no-nuls:
  #     Outlook and Outlook Express hang if mails contain NUL characters.
  #     This setting replaces them with 0x80 character.
  #   oe-ns-eoh:
  #     Outlook Express and Netscape Mail breaks if end of headers-line is
  #     missing. This option simply sends it if it's missing.
  # The list is space-separated.
  # client_workarounds: []
  protocols:
    - pop3: {}
    # mail_plugins: $mail_plugin
    # mail_max_userip_connections: 10

dovecot_defaults_submission:
#   hostname: ""
## SMTP Submission logout format string:
##  %i - total number of bytes read from client
##  %o - total number of bytes sent to client
##  %{command_count} - Number of commands received from client
##  %{reply_count} - Number of replies sent to client
##  %{session} - Session ID of the login session
##  %{transaction_id} - ID of the current transaction, if any
#   logout_format: in=%i out=%o
#   max_mail_size: ""
#   max_recipients: ""
## whitespace-before-path:
##   Allow one or more spaces or tabs between `MAIL FROM:' and path and between
##   `RCPT TO:' and path.
## mailbox-for-path:
##   Allow using bare Mailbox syntax (i.e., without <...>) instead of full path
##   syntax.
#   client_workarounds: []
#   relay_host: ""
#   relay_port: ""
#   relay_trusted: false
#   relay_user: ""
#   relay_master_user: ""
#   relay_password: ""
## no        - No SSL is used
## smtps     - An SMTPS connection (immediate SSL) is used
## starttls  - The STARTTLS command is used to establish SSL layer
# relay_ssl: false
# relay_ssl_verify: true
# relay_rawlog_dir: ""
# protocols:
#   - submission:  {}
#       #mail_plugins: $mail_plugin
#       #mail_max_userip_connections: 10

dovecot_defaults_acl:
  plugins: []
  # plugin {
  #   #acl: vfile:/etc/dovecot/global-acls:cache_secs=300
  # }
  # - acl: vfile:/etc/dovecot/global-acls:cache_secs=300
  # plugin {
  #   #acl_shared_dict: file:/var/lib/dovecot/shared-mailboxes
  # }
  # - acl_shared_dict: file:/var/lib/dovecot/shared-mailboxes

dovecot_defaults_plugin:
  plugins: []

dovecot_defaults_quota:
  plugins: []
  #   - limits:
  #       quota_rule: "*:storage=1G"
  #       quota_rule2: "Trash:storage=+100M"
  #
  #       # LDA/LMTP allows saving the last mail to bring user from under quota to
  #       # over quota, if the quota doesn't grow too high. Default is to allow as
  #       # long as quota will stay under 10% above the limit. Also allowed e.g. 10M.
  #       #quota_grace: 10%%
  #
  #       # Quota plugin can also limit the maximum accepted mail size.
  #       #quota_max_mail_size: 100M
  #   - warnings:
  #       #quota_warning: storage=95%% quota-warning 95 %u
  #       #quota_warning2: storage=80%% quota-warning 80 %u
  #   - backends:
  #       #quota: dirsize:User quota
  #       #quota: maildir:User quota
  #       #quota: dict:User quota::proxy::quota
  #       #quota: fs:User quota
  ## service quota-warning {
  ##   executable: script /usr/local/bin/quota-warning.sh
  ##   user: dovecot
  ##   unix_listener quota-warning {
  ##     user: vmail
  ##   }
  ## }
  # services:
  #   - quota-warning:
  #       executable: script /usr/local/bin/quota-warning.sh
  #       user: dovecot
  #       listeners:
  #         - quota-warning:
  #             type: unix
  #             user: vmail

dovecot_defaults_sieve_extprograms: {}
#   plugins:
#     - default:
#         sieve_pipe_socket_dir: sieve-pipe
#         sieve_filter_socket_dir: sieve-filter
#         sieve_execute_socket_dir: sieve-execute
#         sieve_pipe_bin_dir: /usr/lib/dovecot/sieve-pipe
#         sieve_filter_bin_dir: /usr/lib/dovecot/sieve-filter
#         sieve_execute_bin_dir: /usr/lib/dovecot/sieve-execute
#
#   services:
#     - do-something:
#         user: dovenull
#         executable: "script /usr/lib/dovecot/sieve-pipe/do-something.sh"
#         listeners:
#           - sieve-pipe/do-something:
#               type: unix
#               user: vmail
#               mode: "0600"

dovecot_defaults_sieve:
  plugins:
    - default:
        sieve: file:~/sieve;active=~/.dovecot.sieve
        # sieve_default: /var/lib/dovecot/sieve/default.sieve
        # sieve_default_name: ""
        # sieve_global: ""
        # sieve_discard: ""
        # sieve_before: /var/lib/dovecot/sieve.d/
        # sieve_before2: ldap:/etc/sieve-ldap.conf;name=ldap-domain
        # sieve_before3: (etc...)
        # sieve_after: ""
        # sieve_after2: ""
        # sieve_after2: (etc...)
        sieve_extensions: "+notify +imapflags"
        # sieve_global_extensions: ""
        # sieve_plugins: ""
        # recipient_delimiter: +
        # sieve_max_script_size: 1M
        # sieve_max_actions: 32
        # sieve_max_redirects: 4
        # sieve_quota_max_scripts: 0
        # sieve_quota_max_storage: 0
        # sieve_user_email: ""
        # sieve_user_log: ""
        # sieve_redirect_envelope_from: sender
        # sieve_trace_dir: ""
        ##   "actions"        - Only print executed action commands, like keep,
        ##                      fileinto, reject and redirect.
        ##   "commands"       - Print any executed command, excluding test commands.
        ##   "tests"          - Print all executed commands and performed tests.
        ##   "matching"       - Print all executed commands, performed tests and the
        ##                      values matched in those tests.
        # sieve_trace_level: ""
        # sieve_trace_debug: false
        # sieve_trace_addresses: false

dovecot_defaults_authentications:
  - checkpassword:
      passdb:
        driver: checkpassword
        args: /usr/bin/checkpassword
      userdb:
        driver: prefetch
  - deny:
      passdb:
        driver: passwd-file
        deny: true
        args: /etc/dovecot/deny-users
  - dict:
      passdb:
        driver: dict
        args: /etc/dovecot/dovecot-dict-auth.conf.ext
      userdb:
        driver: dict
        args: /etc/dovecot/dovecot-dict-auth.conf.ext
  - ldap:
      passdb:
        driver: ldap
        args: /etc/dovecot/dovecot-ldap.conf.ext
      userdb:
        driver: ldap
        args: /etc/dovecot/dovecot-ldap.conf.ext
        default_fields: home=/home/virtual/%u
  - master:
      passdb:
        driver: passwd-file
        master: true
        args: /etc/dovecot/master-users
        pass: true
  - passwdfile:
      passdb:
        driver: passwd-file
        args: scheme=CRYPT username_format=%u /etc/dovecot/users
      userdb:
        driver: passwd-file
        args: username_format=%u /etc/dovecot/users
        default_fields: quota_rule=*:storage=1G
        # override_fields: home=/home/virtual/%u
  - sql:
      passdb:
        driver: sql
        args: /etc/dovecot/dovecot-sql.conf.ext
      userdb:
        driver: sql
        args: /etc/dovecot/dovecot-sql.conf.ext
  - static:
      passdb: {}
      #   driver: static
      #   # args: proxy=y host=%1Mu.example.com nopassword=y
      userdb: {}
      #   driver: static
      #   # args: uid=vmail gid=vmail home=/home/%u
  - system:
      passdb: {}
      #   driver: pam
      #   # args: dovecot
      userdb: {}
      #   driver: passwd
  - vpopmail:
      passdb:
        driver: vpopmail
      userdb:
        driver: vpopmail
        args: quota_template=quota_rule=*:backend=%q

dovecot_defaults_dict_auth:
  # uri: ""
  default_pass_scheme: MD5
  iterate_prefix: userdb/
  # iterate_disable: false
  dict_keys:
    - passwd:
        key: passdb/%u
        format: json
    - userdb:
        key: userdb/%u
        format: json
    - quota:
        key: userdb/%u/quota
        default_value: 100M

  passdb_objects:
    - passdb
  passdb_fields: {}
  userdb_objects:
    - userdb
  userdb_fields:
    quota_rule: "*:storage=%{dict:quota}"
    mail: "maildir:%{dict:userdb.home}/Maildir"

dovecot_defaults_dict_sql:
  connects:
    host: localhost
    dbname: mails
    user: testuser
    password: pass
  maps:
    - pattern: priv/quota/storage
      table: quota
      username_field: username
      value_field: bytes
    - pattern: priv/quota/messages
      table: quota
      username_field: username
      value_field: messages
    - pattern: "shared/expire/$user/$mailbox"
      table: expires
      value_field: expire_stamp
      fields:
        username: $user
        mailbox: $mailbox

dovecot_defaults_ldap: {}
# hosts: []
# uris: []
# dn: ""
# dnpass: ""
# sasl_bind: false
# sasl_mech: ""
# sasl_realm: ""
# sasl_authz_id: ""
# tls: false
# tls_ca_cert_file: ""
# tls_ca_cert_dir: ""
# tls_cipher_suite: ""
# tls_cert_file: ""
# tls_key_file: ""
##  Valid values: never, hard, demand, allow, try
# tls_require_cert: ""
# ldaprc_path: ""
# debug_level: 0
# auth_bind: false
# auth_bind_userdn: ""
# ldap_version: 3
# base: ""
##  Dereference: never, searching, finding, always
# deref: never
##  Search scope: base, onelevel, subtree
# scope: subtree
#
##  User attributes are given in LDAP-name=dovecot-internal-name list. The
##  internal names are:
##    uid - System UID
##    gid - System GID
##    home - Home directory
##    mail - Mail location
##
##  There are also other special fields which can be returned, see
##  http://wiki2.dovecot.org/UserDatabase/ExtraFields
# user_attrs:
#   - homeDirectory=home
#   - uidNumber=uid
#   - gidNumber=gid
#
##  http://wiki2.dovecot.org/Variables for full list):
##    %u - username
##    %n - user part in user@domain, same as %u if there's no domain
##    %d - domain part in user@domain, empty if user there's no domain
# user_filter: (&(objectClass=posixAccount)(uid=%u))
# pass_attrs:
#   - uid=user
#   - userPassword=password
# pass_attrs:
#   - uid=user
#   - userPassword=password
#   - homeDirectory=userdb_home
#   - uidNumber=userdb_uid
#   - gidNumber=userdb_gid
# pass_filter: (&(objectClass=posixAccount)(uid=%u))
# iterate_attrs: uid=user
# iterate_filter: (objectClass=posixAccount)
##  List of supported schemes is in: http://wiki2.dovecot.org/Authentication
# default_pass_scheme: CRYPT
# blocking: false

dovecot_defaults_sql: {}
##  Database driver: mysql, pgsql, sqlite
# driver: ""
#
##  connect = host=192.168.1.1 dbname=users
##  connect = host=sql.example.com dbname=virtual user=virtual password=blarg
##  connect = /etc/dovecot/authdb.sqlite
# connect: ""
# default_pass_scheme: MD5
# password_query: >
#   SELECT username, domain, password
#   FROM users WHERE username: '%n' AND domain: '%d'
# user_query: >
#   SELECT home, uid, gid
#   FROM users WHERE username: '%n' AND domain: '%d'
# iterate_query: SELECT username AS user FROM users

## grep -v "# " templates/etc/dovecot/conf.d/10-ssl.conf.j2 | sed -e '/^;/ d'  -e '/^ *$/ d'
